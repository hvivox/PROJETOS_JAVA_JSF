<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui">
<h:head>

	<title>PM - Painel Mobile - Login</title>
	<!-- icone da aba do navegador -->
	<link
		rel="shortcut icon"
		type="image/x-icon"
		href="#{resource['images/favicon.ico']}" />

	<h:outputStylesheet
		library="css"
		name="paginaSemEstrutura.css" />
</h:head>

<h:body>
	<f:metadata>
		<f:viewParam name="dummy" />
		<f:event
			listener="#{mbLogin.preRender}"
			type="preRenderView" />
	</f:metadata>


	<div id="login-dialog">
		<h1>Login</h1>


		<!-- o prepend retira o nameconteiner do form, para permitir a utilização do spring security no campos -->
		<!-- j_username e j_password são requisito do spring security para validar o login e senha -->
		<h:form
			id="frm"
			prependId="false">

			<p:messages
				id="messages"
				autoUpdate="true"
				closable="true" />

			<h:panelGrid
				columns="2"
				styleClass="grid-login">

				<!-- #{mbLogin.loginUsuario} só está sendo utilizado para manter o campo usuário preenchido em caso de falha ao logar  -->
				<p:outputLabel value="Usuário" />
				<p:inputText
					id="j_username"
					value="#{mbLogin.loginUsuario}" />

				<p:outputLabel value="Senha" />
				<p:password id="j_password" />
				<h:panelGroup />

				<p:commandButton
					value="Login"
					action="#{mbLogin.login}"
					ajax="false" />

			</h:panelGrid>
		</h:form>

	</div>




</h:body>
</html>